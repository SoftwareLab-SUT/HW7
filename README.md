# آزمایش هفتم
مهرانه نجفی (۹۷۱۰۴۷۰۷)، رستا روغنی(۹۷۱۰۵۹۶۳) 

**شرح تغییرات روی کد:**

-*اضافه کردن Control Statement Braces*

در هر پروژه برای اینکه وضوح و نظم پروژه بیشتر باشد نیاز است که ساختارها رعایت شوند به همین دلیل مثلا در ساختار یک if statement نیاز است که شکل آن رعایت شود تا بی‌نظمی و آشفتگی ایجاد نشود. در این پروژه هرجا if statement یا for وجود داشت که brace های آن گذاشته نشده، آن را اضافه کردیم.

-*برقراری Loose Coupling*

برای برقرای loose coupling از List بجای ArrayList استفاده می‌کنیم در این صورت متد یا کلاس مدنظر واقعا در جریان اینکه از کدام زیرمجموعه‌ی List استفاده می‌کنیم اطلاعی نخواهد داشت. در این صورت می‌توان به یک پیاده‌سازی دیگر تغییر کاربری داد بدون اینکه تغییر زیادی از سمت API نیاز باشد.

-*رعایت Self Encapsulate Field*

در کلاس‌های مختلف فیلد‌های خصوصی متعددی وجود دارند. بجای اینکه در متد‌های این کلاس مستقیما به فیلد خصوصی دسترسی پیدا کنیم که خطرات خود را دارد، از getter برای گرفتن آن فیلد استفاده می‌کنیم که نظم و ساختار صحیح کد حفظ شود.

-*پیاده‌سازی State/Strategy Pattern*

در کلاس Action بجای اینکه در سوییچ به کارهای مختلف بپردازیم یک State Pattern را پیاده‌سازی کردیم که در آن ۳ کلاس برای انواع اکشن‌ها تعریف می‌کنیم که همگی از یک ابسترکت ارث‌بری می‌کنند. در سوییچ مشخص می‌کنیم که فیلد درون کلاس با نام action که عضوی از کلاس ابسترکت است، واقعا یک شی از کدام‌یک از کلاس‌های تازه تاسیس‌شده خواهد بود.

این کار را مشابها در کلاس Address هم پیاده کردیم و انواع آدرس را به کلاس‌هایی مجزا که از یک ابسترکت ارث‌بری می‌کنند تبدیل کردیم.

-*رعایت Separate Query from Modifier*

در یک کلاس یک تابع بهتر است یا تنها اطلاعاتی را جمع‌آوری کند یا تغییراتی روی فیلد‌ها بدهد و بهتر است این دو از هم جدا باشند. برای اینکار در فایل Memory.java توابع getTemp، getDateAddress و saveMemory را به نوعی تغییر دادیم تا بخشی که تغییراتی روی فیلد‌های کلاس می‌دهد در یک تابع جدا انجام شود و بخشی که اطلاعاتی را کسب می‌کند در یک قسمت باشد.

-*رفع Code Duplication*

در فایل CodeGenerator.java دو تابع برای جمع و تفریق وجود دارند که بسیار مشابه یکدیگر هستنند. در چنین شرایطی بهتر است به جای اینکه خط‌های تکراری زیادی بنویسم این دو تابع را با هم ترکیب کرده و به تناسب نیاز در قسمت‌هایی که توابع گذشته‌ی add و sub هستند استفاده کنیم.

-*ایجاد Facade*

در فایل Parser.java یکی از قسمت‌های مهم یک سوییچ است که به تناسب می‌تواند ما را به حالت پذیرش یا غیره ببرد. در اینجا برای اینکه این کار مشخصا دست یک کامپوننت باشد یک facade تعریف کردیم که این کار سوییچ را برای ما انجام و نتیجه را خروجی می‌دهد. در این صورت مشخص خواهد بود که این کار را چه کلاسی انجام داده، چه اتفاقی افتاده و با اینکه حجم کد بیشتر می‌شود اما نظم و ساختار را بهتر می‌کند.